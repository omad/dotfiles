apiVersion: v1
clusters:
  - cluster:
        certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJd01ETXhNakF5TURFME1Wb1hEVE13TURNeE1EQXlNREUwTVZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTDdZCnZjcHBQNVBMVm8vTmhQeWZkWGprUW8rQndvOFJZKzJUMXRwaVhRZHBzcGRrd2ZtYTVIZTlsVlpBMXBDZElZbFkKOE4zYy9QUWdZenV4eGhTQk5HSXlyVFUxc1hOa2pHSlIvZXMrTzJ6UkRERUJySUo5SWhkUDlWenlKczdNM1YxegorL1lwbmFrQVhvYXBpaGlRVTJWekgwY1ZrSHFiNHhqY1FtdEUyNjhta2MxZHd3UjlkTmZ4ZUl0TnN3Vm0xeWQ2CmgyUWEwRzJCTFl4cXVsRTNBRnNSMHpEczdSa3U3M1lhM0d3aytKaER1d0QraksvVFVPZ210OTEzVDhkZk1UR2YKZFlTcnIyS0JxSjlVamx2T3dWaEJPektaWk52TCtYazE1cUFGNDJjMytMUmVMaW1INUFITXpaOHpZZUtpWmtzTApoTnhybytFdlU0WlBRQjcvZWhjQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFGSmtueEVJOGpMQUZ4QmRodGlXaDdqNy9qTncKb2M0QmQ4R1dDRXdkZi8rQzZQOFpGbzNVaERoQlJTU0ZpK2lpK1FJamloaTFVQ1BURU9Edm15M3FwYi9tVHJ5bgpmeEtXa0t0Y2NkUCtRWGFPZDhwbStDZHRjYkRsa0ZQZzBXc2s3T0w3dlhuQVpHTXBaWUhvSHg0bmtVM09EZVV3CjNtUlZTRTVHWXR0OHJUWkF3OWVtTEJQU1BIanJSaHpWMWN5UHNEVkZxSXdWMDdNQnVHUC9IcmlkZ0pCeEdVMk0Kb1JwUHZPL0RlMTRPMDNRRXI1aE53OVJJaDNTeHN3ZmFtYTBaRWhkelhQUVlzVENTQ3czS0ZDZ1hkZEVJUEVpbApKM1A3bVZLOGFpY3FwcUMyWVk1NUJXVUs4UTBqZHVSUml2SS9Lbmdjdi9McDd3bnNMOE5BYnpNWmNpbz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
        server: https://4E493A42178CCB4A591DBB390593EA9C.sk1.ap-southeast-2.eks.amazonaws.com
    name: arn:aws:eks:ap-southeast-2:060378307146:cluster/dea-sandbox-eks
  - cluster:
        certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJd01EVXlPREEzTlRRek1Wb1hEVE13TURVeU5qQTNOVFF6TVZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBS2NKCmoyMGVzZWhzSmVMcEpSdDdLbjdpVThFQUFOcktqY3h0eDFxSWRGeTdWMEdIKysxaFRSSXBHazVua0NKamJybXEKVnRydlNKZFBCTnJKZ05UNTJOMm8vaTI4YlZOWUdLK2IxTi9TL3J1T1lyNnRJL1Z1V0hTMXl3djlDK3k1NDVvVgpISU1GWDNRSmg1Q2RsZWZsbit5alorSnNnT1lWbmhsZ3V6TDJJeG95UlBqRVZPTHo3eG5nL0dLQUh5a1FIL3A2CkFHK3drK3VERTQvNENEVUlHSElIOG85VmY3T1RnVTFrMmJJWmNNWlZMWnhwSjYvNDAzVnA5WG55T283cmw4OEkKSVYwQ1Z2Y3J6NUdnQ2ZwcVpKL2JkQjM1YUJCTkJkUFAvbGFUd2w0ZE9SYUd2d0plZ04rMk1NZlBjTHEzdnVuZwpsNEtGbklXaG9ML1E5NzVvampVQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFDU2JuYjB6MmVxWTdtM0VEQ2RONDBFNUJ2UCsKM3ZueXM4ZFRkRExya1JndUNVVERYSEdjZGFNNThiT1FJdnp1RkxKZVU3enNlQk9ER05aU2ZxbTRFRXNUYkVaUApuV0VKU2NhcHBGNFFVWmZtVkRhakIvN2dkQ29LcnBIQktvMHhCMWNWZDFKYTNNYU9GanIwUFJjUWFVcmQvWGgzCnpFSytQTTZubDdjVlNUcEpoQzlwRkFVMTRPUVFjN3FzRGlmTUJVdDg4Q3huVnRkbUJWeXpzSWJiZjRXQ2FtSTIKVVRZYU9MZjRJaEE4Mk9FeHlRb3FhTkpNU3hjQUNNWGxacXBzM0UyYVplWGZPRGJvNEVqdDFFV2JwRHBjQytoVAozbXI4TFZ0VzZMU1g4Y1M1L29YZlgrSHIvZG5Vcm5EbkZ3ZmpFODFUbk5HdE9zSDFCMXNXMlM0cnNLQT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
        server: https://DCE1FD045DFEB42A78394EB219BEC39C.yl4.ap-southeast-2.eks.amazonaws.com
    name: arn:aws:eks:ap-southeast-2:451924316694:cluster/dea-dev-eks
  - cluster:
        certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJd01ETXhNVEF5TVRrek5Wb1hEVE13TURNd09UQXlNVGt6TlZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTXcrCkliNGd6SjV3YzZ6WW5maUlzRlRXc1Yyc1pkTTRaWWttYjJKNDA3V000OS9kRUVwYXRzbXNFWFF3QVJlMUlNTzgKRkIwc1VGOTRENUgrME9XMGxrTk5BVHVYc09UMWs5TzhhQVZ1Qyt2cDNsNFZpVEljUnluSlMwUHduWnRKQXhSbApNSWlhdDdMck4yZTYrdkZpR05NK25aUFNoS2pXTDRlbEwydlh6WEttVGRXTlBobGN1VEZTNXNnaDdTQlBEdkI1Cm1vSGdmSWZvL1F2WjBmeW1xZXFBalAxbVVNZ05JdC9xa0xYUE02K0dvdFVRTlJRZ1lWemJxczBZUytFMWR4QmMKWWEwRHUvVWVBMHlHTzJBQTM2UExoakhYZlZTRDQ4R1R3a0NqMy9WV1VRdThKZ3pFckZtQmlHOHU5WEs5U0RaawpkYzk5aDdBbHFLM1F0QUViSWZNQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFNSjhtY0VRRFplZ3ZoOW8renphY1lZYksxaVIKTXF5eTZQb3lRcG91L0lVNTZQOE83M1dZZEVQMDkrZ0FnN3ZiNEhNWHQ1L0Q2bExkbEtUWWpXeHhac3Z0dWVUcQpNaE1pM1RYazgzaDZ6ZkhMbmlZNzY3YlFaT21XZU9QUlVCdHpCUXFKWEJDR1JVQ2M5SGVQU0RsNDQ3SWdKVytwCnpXUTB0bXhxU0hPM2RqZlhFanJIY0E3ZlZOUjhkNlVjclYyQUhDOW1zb24vQlJodWlXSWN5QVdwbzNiMDZDZnQKeG1TZDJuajhoc3oxMG8yaUVuQXN5T1R4N25TSDFKaGF2UXRXRG1XMmY5MUd2K09WdmV6YkVaUDg0eWl5N3JWZQpzUmhkUHYrM3k5ZEREUXNRWU04MTl6Q3F2WThtenZRblBxQVVqdi9pWjFKUTgvLzZoVUZ1bEsyRWZXZz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
        server: https://C5D388311B15BCBDE2923CB2446A3B9E.yl4.ap-southeast-2.eks.amazonaws.com
    name: arn:aws:eks:ap-southeast-2:538673716275:cluster/dea-prod-eks
  - cluster:
        certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJd01ETXdPVEl6TlRnME1Wb1hEVE13TURNd056SXpOVGcwTVZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTUYvClpFNW16OFpYcGdWYkRlODNEM2Zwak9yc3pGU3dRQmRCL1ZEbG5uSUcvV0x5VEFmSFI2eFJHL3hEU0ZXV0VkcjMKWjArbGNyYTlhUXlvVkFrTDgrRXlpWHM4MzhoYW5zRjhLZDU4bnZVSHJJbHU2eWV0ZmRmOVo1NjZyL1hPenlTRQpkOXRKdWFKZjRDeXZuNHRrWGFSUWlacDRILzVzSk9ieC95VmJiUzdwRkg3d1J4ZFZSR1p2VUNXSDY5SWlRQ2UyCmFQdkp3K2ZEYUI3NHU3TTAwYnN6WHZKYXdkUEtYeVIwU0NwdGg0VHczUGhIMEU1SVVIRG1kZXBFVWJYcHNNSWoKZjlERCtQdWlGMkZvSHNsblV0R1l1elhmMGg1VkpEaktZK1drRW11cTZ5a2s2eXNhN2FlQ1pKdlZ6L2J4NVg2bApzU2R2T2docnB6aG5USmJSVDZNQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFCNlJSUGdKbk8veTd4UGZBSXlXclNmd0dtWkUKaTdmRU1ZRnBlSlpEcXFGZHlTcWFRK25GajhjYlJsRGZ5ZlpLVnA1cmJHbWZPSFVPWHNUSk9RK2lWTEJXNzJrUwo3UVo0OHVIYkU0WmV4eDlSWlRNcXJyTEcrQ3RWcG9rcnhWK3VYU2U3WDkrUE9qVXdtWmYrWXFBb0VaVTNzK0g1CnFwbDM1bmhNSE1HMi9HdUhrVDJEeWh4eC9mdlMvQzVWVzhwNzhDMmdyZHZjTGVPRm9FQnozbFdjRE9XZjlXY3gKbmRrWnY4Mko3Vkc0Uml1NjRVQThacFdiRmp5M2lsZ1hGYlVVYUlISGlhSXhzbFFKMWZFQkVsaWkza3dQQW8yNQpYQjFRcDUrYy9SZjllUHBHMXZnM1hlNkZIT2dEcjZMQjhjNkVwNmI5TjlSNUptTWVJUS9vbFRlakxuVT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
        server: https://F41965422A33D1AA1458CB739ABCC0DD.gr7.us-west-2.eks.amazonaws.com
    name: arn:aws:eks:us-west-2:565417506782:cluster/deafrica-prod-eks
contexts:
  - context:
        cluster: arn:aws:eks:ap-southeast-2:451924316694:cluster/dea-dev-eks
        user: arn:aws:eks:ap-southeast-2:451924316694:cluster/dea-dev-eks
    name: dea-dev-eks
  - context:
        cluster: arn:aws:eks:ap-southeast-2:538673716275:cluster/dea-prod-eks
        user: arn:aws:eks:ap-southeast-2:538673716275:cluster/dea-prod-eks
    name: dea-prod-eks
  - context:
        cluster: arn:aws:eks:ap-southeast-2:060378307146:cluster/dea-sandbox-eks
        user: arn:aws:eks:ap-southeast-2:060378307146:cluster/dea-sandbox-eks
    name: dea-sandbox-eks
  - context:
        cluster: arn:aws:eks:us-west-2:565417506782:cluster/deafrica-prod-eks
        user: arn:aws:eks:us-west-2:565417506782:cluster/deafrica-prod-eks
    name: deafrica-prod-eks
current-context: "dea-sandbox-eks"
kind: Config
preferences: {}
users:
  - name: arn:aws:eks:ap-southeast-2:060378307146:cluster/dea-sandbox-eks
    user:
        exec:
            apiVersion: client.authentication.k8s.io/v1alpha1
            args:
              - -c
              - |
                AuthCmd="aws eks get-token --cluster-name $EksCluster"
                if [ -z "$AWS_VAULT" ]
                then exec aws-vault exec $Profile -- $AuthCmd
                elif [ "$AWS_VAULT" = "$Profile" ]
                then exec $AuthCmd
                else
                >&2 echo "--> Currently in $AWS_VAULT account, but tried accessing cluster in $Profile"
                exit 1
                fi
            command: sh
            env:
              - name: Profile
                value: sandbox
              - name: EksCluster
                value: dea-sandbox-eks
  - name: arn:aws:eks:ap-southeast-2:451924316694:cluster/dea-dev-eks
    user:
        exec:
            apiVersion: client.authentication.k8s.io/v1alpha1
            args:
              - -c
              - |
                AuthCmd="aws eks get-token --cluster-name $EksCluster"
                if [ -z "$AWS_VAULT" ]
                then exec aws-vault exec $Profile -- $AuthCmd
                elif [ "$AWS_VAULT" = "$Profile" ]
                then exec $AuthCmd
                else
                >&2 echo "--> Currently in $AWS_VAULT account, but tried accessing cluster in $Profile"
                exit 1
                fi
            command: sh
            env:
              - name: Profile
                value: dea-dev
              - name: EksCluster
                value: dea-dev-eks
  - name: arn:aws:eks:ap-southeast-2:538673716275:cluster/dea-prod-eks
    user:
        exec:
            apiVersion: client.authentication.k8s.io/v1alpha1
            args:
              - -c
              - |
                AuthCmd="aws eks get-token --cluster-name $EksCluster"
                if [ -z "$AWS_VAULT" ]
                then exec aws-vault exec $Profile -- $AuthCmd
                elif [ "$AWS_VAULT" = "$Profile" ]
                then exec $AuthCmd
                else
                >&2 echo "--> Currently in $AWS_VAULT account, but tried accessing cluster in $Profile"
                exit 1
                fi
            command: sh
            env:
              - name: Profile
                value: prod
              - name: EksCluster
                value: dea-prod-eks
  - name: arn:aws:eks:us-west-2:565417506782:cluster/deafrica-prod-eks
    user:
        exec:
            apiVersion: client.authentication.k8s.io/v1alpha1
            args:
              - -c
              - |
                AuthCmd="aws eks get-token --cluster-name $EksCluster"
                if [ -z "$AWS_VAULT" ]
                then exec aws-vault exec $Profile -- $AuthCmd
                elif [ "$AWS_VAULT" = "$Profile" ]
                then exec $AuthCmd
                else
                >&2 echo "--> Currently in $AWS_VAULT account, but tried accessing cluster in $Profile"
                exit 1
                fi
            command: sh
            env:
              - name: Profile
                value: deafrica
              - name: EksCluster
                value: deafrica-prod-eks
